import{a as J,b as Te,c as Re,d as Oe}from"./chunk-2VTIAGKI.js";import{a as ye,b as Pe,c as Fe,d as Ae}from"./chunk-I4BYRIFC.js";import{a as G,b as H,c as ue,d as fe,e as ge,f as he,g as Q,i as ne,j as Ne}from"./chunk-LPDW7SC6.js";import{a as U,b as W}from"./chunk-BRQZCNY2.js";import{f as de}from"./chunk-MMI7D7K6.js";import"./chunk-TUXLRKPW.js";import{d as $}from"./chunk-CGZ4YKKZ.js";import"./chunk-436OHTVF.js";import"./chunk-AESYL7IM.js";import"./chunk-UZQ2FFVI.js";import{a as q}from"./chunk-WDHRHIGJ.js";import{a as x}from"./chunk-2SM5UAZW.js";import{d as pe,e as u,g as O,h as N,j as k,l as V,o as B,p as j,v as L,x as z}from"./chunk-4JNZNRKM.js";import{a as R}from"./chunk-AUQWKMJ6.js";import{a as _e,b as Ce,c as ve,d as be,e as Se,f as xe,g as De,h as Ie,i as Ee,j as Me,k as we,l as Ue}from"./chunk-JCID66WL.js";import{ea as ce}from"./chunk-JM4IHHD6.js";import{k as me}from"./chunk-MTNE5NEP.js";import{Ab as c,Bb as _,Cb as C,Eb as y,Hb as g,Jb as v,Lc as A,Ob as ee,Oc as T,Pb as te,Qa as F,Qb as ie,Ua as l,Ub as a,Va as h,Vb as m,Xb as ae,aa as p,ac as S,bc as le,ea as b,ec as M,gc as w,ma as I,na as E,nb as f,pb as d,rc as se,ub as Z,yb as n,zb as i}from"./chunk-X4DW4WN7.js";import"./chunk-EQDQRRRY.js";var P=class r{constructor(e){this.data=e;this.isEditMode=!!e.payload,this.loginForm=this._fb.group({firstname:[e.payload?.firstname||"",[u.required]],lastname:[e.payload?.lastname||"",[u.required]],phoneNumber:[e.payload?.phoneNumber||"",[u.required]],email:[e.payload?.email||"",[u.required,u.email]],role:[e.payload?.id_role||"",[u.required]],status:[e.payload?.status||"A",[u.required]],profileImg:[null]}),this.imgUrl=e.payload?.profile}sAuth=p(x);sSweetAlert=p(U);_MatDialgoRef=p(G);_fb=p(L);isEditMode;loginForm;roles;imgUrl;fileToUpload;ngOnInit(){this.getRole()}onSubmit(){if(this.loginForm.valid){this.sSweetAlert.showLoading();let e=new FormData;if(e.append("Email",this.loginForm.value.email),e.append("PhoneNumber",this.loginForm.value.phoneNumber),e.append("Firstname",this.loginForm.value.firstname),e.append("Lastname",this.loginForm.value.lastname),e.append("Profile",this.loginForm.value.profileImg),e.append("ID_role",this.loginForm.value.role),e.append("Status",this.loginForm.value.status),this.isEditMode){let t=this.data.payload.id;t>0&&this.sAuth.modifyUser(e,t).subscribe(o=>{o.isSuccess?(this.sSweetAlert.closeLoading(),this._MatDialgoRef.close(!0)):this.sSweetAlert.showError(o.error||"Error  al editar el usuario")})}else this.sAuth.register(e).subscribe(t=>{t.isSuccess?(this.sSweetAlert.closeLoading(),this._MatDialgoRef.close(!0)):this.sSweetAlert.showError(t.error||"Error al crear el usuario")})}}getFormControl(e){let t=this.loginForm.get(e);return t instanceof k?t:null}getRole(){this.sAuth.getRoles().subscribe(e=>{e.isSuccess&&(this.roles=e.value)})}onFileChange(e){let t=e.target.files[0];this.fileToUpload=t,this.loginForm.patchValue({profileImg:t});let o=new FileReader;o.onload=s=>{this.imgUrl=s.target.result},o.readAsDataURL(this.fileToUpload)}getImgProfile(){return this.loginForm.value.profileImg}static \u0275fac=function(t){return new(t||r)(h(H))};static \u0275cmp=b({type:r,selectors:[["app-user-popup"]],standalone:!0,features:[S],decls:28,vars:10,consts:[["mat-dialog-title","",1,""],[1,"mat-typography","w-full"],[3,"formGroup"],[1,"w-full","flex","flex-wrap","md:mb-6"],[1,"w-full","md:w-1/2","px-3","mb-6","md:mb-0","sm:w-full"],["label","Nombre:*","type","text","placeholder","Ingrese el nombre",3,"control"],["label","Apellido:*","type","text","placeholder","Ingrese el apellido",3,"control"],[1,"flex","flex-wrap","md:mb-6"],["label","Telefono:*","type","text","placeholder","Ingrese el numero de telefono",3,"control"],["label","Correo Electronico","type","email","placeholder","Ingrese el correo",3,"control"],["label","Role","placeholder","el role que tendra el usuario",3,"options","control"],["formControlName","status"],["value","I"],["value","A"],["label","Subir foto de perfil",3,"control","imageUrl"],["align","end"],[3,"click"]],template:function(t,o){t&1&&(n(0,"h2",0),a(1),i(),n(2,"mat-dialog-content",1)(3,"form",2)(4,"div",3)(5,"div",4),c(6,"app-input-field",5),i(),n(7,"div",4),c(8,"app-input-field",6),i()(),n(9,"div",7)(10,"div",4),c(11,"app-input-field",8),i(),n(12,"div",4),c(13,"app-input-field",9),i()(),n(14,"div",7)(15,"div",4),c(16,"app-input-select",10),i(),n(17,"div",4)(18,"mat-radio-group",11)(19,"mat-radio-button",12),a(20,"Inactivo"),i(),n(21,"mat-radio-button",13),a(22,"Activo"),i()()()(),n(23,"div",7),c(24,"app-image-uploader",14),i()()(),n(25,"mat-dialog-actions",15)(26,"app-btn-close",16),g("click",function(){return o._MatDialgoRef.close(!1)}),i(),n(27,"app-btn-accept",16),g("click",function(){return o.onSubmit()}),i()()),t&2&&(l(),m(o.isEditMode?"Editar usuario":"Crear nuevo usuarios"),l(2),d("formGroup",o.loginForm),l(3),d("control",o.getFormControl("firstname")),l(2),d("control",o.getFormControl("lastname")),l(3),d("control",o.getFormControl("phoneNumber")),l(2),d("control",o.getFormControl("email")),l(3),d("options",o.roles)("control",o.getFormControl("role")),l(8),d("control",o.getFormControl("profileImg"))("imageUrl",o.imgUrl))},dependencies:[ye,Pe,Fe,Ae,Q,fe,he,ge,z,V,O,N,B,j,J,Oe,Te,Re]})};var Y=class r{constructor(e){this.data=e}_MatDialgoRef=p(G);sAuth=p(x);userDetail;ngOnInit(){this.loadUserDetails(this.data.id)}loadUserDetails(e){this.sAuth.getUserDetail(e).subscribe(t=>{this.userDetail=t.value})}static \u0275fac=function(t){return new(t||r)(h(H))};static \u0275cmp=b({type:r,selectors:[["app-user-detail-popup"]],standalone:!0,features:[S],decls:67,vars:22,consts:[[1,"p-4"],[1,"w-full","flex","flex-row","justify-between","items-center"],[1,"text-15"],[3,"click"],[1,"text-blue-500","hover:text-blue-300"],[1,"mt-4"],[1,"w-full","flex","flex-row","items-center","gap-4"],[1,"img-container","drop-shadow-2xl"],["alt","img",1,"img-profile",3,"src"],[1,"flex","flex-col"],[1,"title"],[1,"text-content"],[1,"status"],[1,"mt-6","p-3","flex","flex-col","gap-3"],[1,"w-full","flex","flex-col"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"div",1)(2,"span",2),a(3,"Detalle del usuario"),i(),n(4,"button",3),g("click",function(){return o._MatDialgoRef.close()}),n(5,"mat-icon",4),a(6,"close"),i()()(),n(7,"div",5)(8,"div",6)(9,"div",7),c(10,"img",8),i(),n(11,"div",9)(12,"span",10),a(13,"Usuario"),i(),n(14,"p",11),a(15),i(),n(16,"span",12),a(17),i()()()(),n(18,"div",13)(19,"div",14)(20,"span",10),a(21,"Nombre completo"),i(),n(22,"p",11),a(23),i()(),n(24,"div",14)(25,"span",10),a(26,"Correo electronico"),i(),n(27,"p",11),a(28),i()(),n(29,"div",14)(30,"span",10),a(31,"Numero de telefono"),i(),n(32,"p",11),a(33),i()(),n(34,"div",14)(35,"span",10),a(36,"Rol en el sistema"),i(),n(37,"p",11),a(38),i()(),n(39,"div",14)(40,"span",10),a(41,"Ventas del dia"),i(),n(42,"p",11),a(43),i()(),n(44,"div",14)(45,"span",10),a(46,"Ventas del mes"),i(),n(47,"p",11),a(48),i()(),n(49,"div",14)(50,"span",10),a(51,"Ultimo inicio de sesion"),i(),n(52,"p",11),a(53),M(54,"date"),i()(),n(55,"div",14)(56,"span",10),a(57,"Usuario creado en"),i(),n(58,"p",11),a(59),M(60,"date"),i()(),n(61,"div",14)(62,"span",10),a(63,"Ultima actualizacion"),i(),n(64,"p",11),a(65),M(66,"date"),i()()()()),t&2&&(l(10),d("src",o.userDetail==null?null:o.userDetail.profile,F),l(5),m(o.userDetail==null?null:o.userDetail.username),l(2),m((o.userDetail==null?null:o.userDetail.status)=="A"?"Activo":"Inactivo"),l(6),ae("",o.userDetail==null?null:o.userDetail.firstname," ",o.userDetail==null?null:o.userDetail.lastname,""),l(5),m(o.userDetail==null?null:o.userDetail.email),l(5),m(o.userDetail==null?null:o.userDetail.phoneNumber),l(5),m(o.userDetail==null?null:o.userDetail.role),l(5),m(o.userDetail==null?null:o.userDetail.salesOfDay),l(5),m(o.userDetail==null?null:o.userDetail.salesOfMonth),l(5),m(w(54,13,o.userDetail==null?null:o.userDetail.last_login,"short")),l(6),m(w(60,16,o.userDetail==null?null:o.userDetail.created_at,"short")),l(6),m(w(66,19,o.userDetail==null?null:o.userDetail.updated_at,"short")))},dependencies:[$,de,R,T,A],styles:[".img-container[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;background-color:#fff;overflow:hidden}.img-profile[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.title[_ngcontent-%COMP%]{font-size:12px;color:#73726d}.text-content[_ngcontent-%COMP%]{font-size:14px;color:#46433c;margin:0}.status[_ngcontent-%COMP%]{font-size:11px;margin:-8px 0 0;color:#73726d}"]})};var Be=["sidenav"],je=()=>[5,10,20];function Le(r,e){r&1&&(n(0,"th",24),a(1,"ID"),i())}function ze(r,e){if(r&1&&(n(0,"td",25),a(1),i()),r&2){let t=e.$implicit;l(),m(t.id)}}function $e(r,e){r&1&&(n(0,"th",24),a(1,"Foto"),i())}function qe(r,e){if(r&1&&(n(0,"td",25),c(1,"img",26),i()),r&2){let t=e.$implicit;l(),d("src",t.profile,F)}}function Ge(r,e){r&1&&(n(0,"th",24),a(1,"Nombre de usuario"),i())}function He(r,e){if(r&1&&(n(0,"td",25),a(1),i()),r&2){let t=e.$implicit;l(),m(t.username)}}function Qe(r,e){r&1&&(n(0,"th",24),a(1,"Email"),i())}function Je(r,e){if(r&1&&(n(0,"td",25),a(1),i()),r&2){let t=e.$implicit;l(),m(t.email)}}function We(r,e){r&1&&(n(0,"th",24),a(1,"Nombre"),i())}function Ye(r,e){if(r&1&&(n(0,"td",25),a(1),i()),r&2){let t=e.$implicit;l(),m(t.firstname)}}function Ke(r,e){r&1&&(n(0,"th",24),a(1,"Apellido"),i())}function Xe(r,e){if(r&1&&(n(0,"td",25),a(1),i()),r&2){let t=e.$implicit;l(),m(t.lastname)}}function Ze(r,e){r&1&&(n(0,"th",24),a(1,"Role"),i())}function et(r,e){if(r&1&&(n(0,"td",25),a(1),i()),r&2){let t=e.$implicit;l(),m(t.role)}}function tt(r,e){r&1&&(n(0,"th",24),a(1,"Estado"),i())}function it(r,e){if(r&1&&(n(0,"td",25),a(1),i()),r&2){let t=e.$implicit;l(),m(t.status=="I"?"Inactivo":"Activo")}}function nt(r,e){r&1&&(n(0,"th",24),a(1,"Inicio sesion"),i())}function ot(r,e){if(r&1&&(n(0,"td",25),a(1),M(2,"date"),i()),r&2){let t=e.$implicit;l(),m(w(2,1,t.last_login,"short"))}}function rt(r,e){r&1&&(n(0,"th",24),a(1,"Acciones"),i())}function at(r,e){if(r&1){let t=y();n(0,"button",33),g("click",function(){I(t);let s=v().$implicit,D=v();return E(D.openModalModify(s))}),n(1,"mat-icon"),a(2,"edit"),i()()}}function lt(r,e){r&1&&(n(0,"span",31),a(1,"Yo"),i())}function st(r,e){if(r&1){let t=y();n(0,"button",34),g("click",function(){I(t);let s=v().$implicit,D=v();return E(D.onDeleteUser(s))}),n(1,"mat-icon"),a(2,"delete"),i()()}}function mt(r,e){if(r&1){let t=y();n(0,"td",27)(1,"div",28)(2,"button",29),g("click",function(){let s=I(t).$implicit,D=v();return E(D.openUserDetail(s.id))}),n(3,"mat-icon"),a(4,"visibility"),i()(),f(5,at,3,0,"button",30)(6,lt,2,0,"span",31)(7,st,3,0,"button",32),i()()}if(r&2){let t=e.$implicit,o=v();l(5),Z(t.id!=o.getIdCurrentUser()?5:6),l(2),Z(t.id!=o.getIdCurrentUser()?7:-1)}}function pt(r,e){r&1&&c(0,"tr",35)}function dt(r,e){if(r&1){let t=y();n(0,"tr",36),g("mouseover",function(){let s=I(t).$implicit,D=v();return E(D.hoveredRow=s)})("mouseleave",function(){I(t);let s=v();return E(s.hoveredRow=null)}),i()}}var K=class r{constructor(e,t,o){this._matDialog=e;this.authService=t;this.sTitle=o;this.sTitle.setTitle("Usuarios")}sAuth=p(x);sSweetalert=p(U);sJWt=p(q);displayedColumns=["id","profile","username","firstname","lastname","role","status","last_login","acciones"];isLoadingResults=!0;isRateLimitReached=!1;sidenav;_BaseApi=p(W);resultsLength=0;totalItems=0;hoveredRow=null;selectedId;isOpen=!1;users=[];searchInput=null;dataSource=new Ue;selectedEndDate;selectedStartDate;searchMessage="Buscar usuarios";paginatorSubscription;paginator;ngOnInit(){this.getAllUsers(),this.getIdCurrentUser()}ngAfterViewInit(){this.paginatorSubscription=this.paginator.page.subscribe(()=>this.loadItems()),this.loadItems(),this.paginator.page.subscribe(()=>this.loadItems()),this.loadItems()}filterItems(){this._BaseApi.filter("inventory",this.searchInput,this.selectedStartDate,this.selectedEndDate).subscribe(e=>{this.dataSource.data=e.value})}clearFilters(){this.searchInput=null,this.selectedEndDate=null,this.selectedStartDate=null,this.paginator.pageIndex=0,this.loadItems()}loadItems(){let e=this.paginator.pageIndex,t=this.paginator.pageSize;this._BaseApi.getItemsPagination("inventory",e+1,t).subscribe(o=>{this.dataSource.data=o.items,this.totalItems=o.pagination.TotalItemCount,this.paginator.pageIndex=o.pagination.CurrentPage-1,this.paginator.length=this.totalItems})}getAllUsers(){this.sSweetalert.showLoading(),this.authService.getUsers().subscribe(e=>{e.isSuccess&&(this.users=e.value??[],this.sSweetalert.closeLoading())})}getIdCurrentUser(){return this.sJWt.getId()}onSearch(e){}openModalCreate(){this._matDialog.open(P,{width:"60vw",maxWidth:"60vw",disableClose:!0,data:{}}).afterClosed().subscribe(e=>{e&&this.getAllUsers()})}openModalModify(e){this._matDialog.open(P,{width:"60vw",maxWidth:"60vw",disableClose:!0,data:{payload:e}}).afterClosed().subscribe(t=>{t&&this.getAllUsers()})}onDeleteUser(e){this.sSweetalert.showConfirmation(`Quieres eliminar el usuario: ${e.username}`,()=>{this.sAuth.deleteUser(e.id).subscribe(t=>{t.isSuccess?(this.sSweetalert.showSuccess("Usuario eliminado"),this.getAllUsers()):this.sSweetalert.showError("No se pudo eliminar el usuario")})})}openUserDetail(e){this._matDialog.open(Y,{data:{id:e},width:"350px",height:"100vh",maxHeight:"100vh",position:{right:"0"},panelClass:"dialog-detail"})}static \u0275fac=function(t){return new(t||r)(h(ue),h(x),h(ce))};static \u0275cmp=b({type:r,selectors:[["app-users"]],viewQuery:function(t,o){if(t&1&&(ee(Be,5),ee(ne,5)),t&2){let s;te(s=ie())&&(o.sidenav=s.first),te(s=ie())&&(o.paginator=s.first)}},standalone:!0,features:[S],decls:42,vars:6,consts:[[1,"container"],[1,"main-content"],[1,"controls"],[1,"add-user-button",3,"click"],[1,"table-container"],[1,"example-container","mat-elevation-z8"],[1,"example-table-container"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"example-table",3,"dataSource"],["matColumnDef","id"],["class","itemHeader","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","profile"],["matColumnDef","username"],["matColumnDef","email"],["matColumnDef","firstname"],["matColumnDef","lastname"],["matColumnDef","role"],["matColumnDef","status"],["matColumnDef","last_login"],["matColumnDef","acciones"],["mat-cell","","class","actions-cell",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"mouseover","mouseleave",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"length","pageSizeOptions"],["mat-header-cell","",1,"itemHeader"],["mat-cell",""],["alt","",1,"imgFoto",3,"src"],["mat-cell","",1,"actions-cell"],[1,"actions-container"],["mat-icon-button","",1,"btnVer",3,"click"],["mat-icon-button","",1,"btnEditar"],[1,"text-yellow-500"],["mat-icon-button","",1,"btnEliminar"],["mat-icon-button","",1,"btnEditar",3,"click"],["mat-icon-button","",1,"btnEliminar",3,"click"],["mat-header-row",""],["mat-row","",3,"mouseover","mouseleave"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"main",1)(2,"div",2)(3,"button",3),g("click",function(){return o.openModalCreate()}),a(4,"+"),i()(),n(5,"div",4)(6,"div",5)(7,"div",6)(8,"table",7),_(9,8),f(10,Le,2,0,"th",9)(11,ze,2,1,"td",10),C(),_(12,11),f(13,$e,2,0,"th",9)(14,qe,2,1,"td",10),C(),_(15,12),f(16,Ge,2,0,"th",9)(17,He,2,1,"td",10),C(),_(18,13),f(19,Qe,2,0,"th",9)(20,Je,2,1,"td",10),C(),_(21,14),f(22,We,2,0,"th",9)(23,Ye,2,1,"td",10),C(),_(24,15),f(25,Ke,2,0,"th",9)(26,Xe,2,1,"td",10),C(),_(27,16),f(28,Ze,2,0,"th",9)(29,et,2,1,"td",10),C(),_(30,17),f(31,tt,2,0,"th",9)(32,it,2,1,"td",10),C(),_(33,18),f(34,nt,2,0,"th",9)(35,ot,3,4,"td",10),C(),_(36,19),f(37,rt,2,0,"th",9)(38,mt,8,2,"td",20),C(),f(39,pt,1,0,"tr",21)(40,dt,1,0,"tr",22),i(),c(41,"mat-paginator",23),i()()()()()),t&2&&(l(8),d("dataSource",o.users),l(31),d("matHeaderRowDef",o.displayedColumns),l(),d("matRowDefColumns",o.displayedColumns),l(),d("length",o.totalItems)("pageSizeOptions",le(5,je)))},dependencies:[Q,A,we,_e,ve,De,be,Ce,Ie,Se,xe,Ee,Me,R,$,ne,Ne],styles:[".container[_ngcontent-%COMP%]{display:flex;width:100%;font-family:PoppinsSemiBold}.main-content[_ngcontent-%COMP%]{width:100%;flex-grow:1}.controls[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end;gap:10px;margin-bottom:20px}.controls[_ngcontent-%COMP%]   .pdf-button[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]   .add-user-button[_ngcontent-%COMP%]{padding:8px 12px;border:none;color:var(--bg-color);cursor:pointer;border-radius:4px;transition:background .3s ease}.controls[_ngcontent-%COMP%]   .pdf-button[_ngcontent-%COMP%]:hover, .controls[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]:hover, .controls[_ngcontent-%COMP%]   .add-user-button[_ngcontent-%COMP%]:hover{background-color:var(--sky-color)}.controls[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]   .state-select[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]   .role-select[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{padding:8px;border:1px solid var(--bg-color);border-radius:4px}.controls[_ngcontent-%COMP%]   .add-user-button[_ngcontent-%COMP%]{background-color:var(--txt-orange-color);font-size:20px;padding:8px 16px}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:#00000026;z-index:1;display:flex;align-items:center;justify-content:center}.example-rate-limit-reached[_ngcontent-%COMP%]{max-width:360px;text-align:center}.mat-column-number[_ngcontent-%COMP%], .mat-column-state[_ngcontent-%COMP%]{width:64px}.mat-column-created[_ngcontent-%COMP%]{width:124px}"]})};var X=class r{constructor(e,t){this.fb=e;this.cdr=t;this.empresaForm=this.fb.group({nombre:["",[u.required]],numero:["",[u.required]],correo:["",[u.required,u.email]],direccion:["",[u.required]],profileImg:[null]})}empresaForm;logotipoURL=null;_BaseApi=p(W);imgUrl=null;fileToUpload;isEditMode;_sweetAlert=p(U);idEnterprise;ngOnInit(){this._BaseApi.getLastItem("Enterprise").subscribe(e=>{console.log(e),e.isSuccess?(this.idEnterprise=e.value.id,this.empresaForm.patchValue({nombre:e.value.name,numero:e.value.phoneNumber,correo:e.value.email,direccion:e.value.address}),this.imgUrl=e.value.logo,console.log(this.imgUrl),this.isEditMode=!0):this.isEditMode=!1})}onFileChange(e){let t=e.target.files[0];this.fileToUpload=t,this.empresaForm.patchValue({profileImg:t});let o=new FileReader;o.onload=s=>{this.imgUrl=s.target.result},o.readAsDataURL(this.fileToUpload)}getImgProfile(){return this.empresaForm.value.profileImg}onSubmit(){if(this.empresaForm.valid){this._sweetAlert.showLoading();let e=new FormData;e.append("name",this.empresaForm.value.nombre),e.append("phoneNumber",this.empresaForm.value.numero),e.append("email",this.empresaForm.value.correo),e.append("address",this.empresaForm.value.direccion),e.append("logo",this.empresaForm.value.profileImg),this.isEditMode?this.idEnterprise!=null&&this._BaseApi.updateItem("Enterprise",e,this.idEnterprise).subscribe(t=>{t.isSuccess?this._sweetAlert.showSuccess("Informacion actualizada"):this._sweetAlert.showError(t.error||"Error al actualizar la informacion")}):this._BaseApi.addItem("Enterprise",e).subscribe(t=>{t.isSuccess?this._sweetAlert.showSuccess("Informacion registrada"):this._sweetAlert.showError(t.error||"Error al registrar la empresa")})}else this._sweetAlert.showError("Por favor, completa todos los campos requeridos.")}getFormControl(e){let t=this.empresaForm.get(e);return t instanceof k?t:null}static \u0275fac=function(t){return new(t||r)(h(L),h(se))};static \u0275cmp=b({type:r,selectors:[["app-empresa"]],standalone:!0,features:[S],decls:24,vars:3,consts:[[1,"title"],[1,"empresa-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","nombre"],["id","nombre","formControlName","nombre",1,"form-control"],["for","numero"],["id","numero","formControlName","numero",1,"form-control"],["for","correo"],["id","correo","formControlName","correo",1,"form-control"],["for","direccion"],["id","direccion","formControlName","direccion",1,"form-control"],[1,"flex","flex-wrap","md:mb-6"],["label","Subir foto de perfil",3,"control","imageUrl"],[1,"button-container"],["type","submit",1,"btn"]],template:function(t,o){t&1&&(n(0,"h2",0),a(1,"Informaci\xF3n de la Empresa"),i(),n(2,"form",1),g("ngSubmit",function(){return o.onSubmit()}),n(3,"div",2)(4,"label",3),a(5,"Nombre de la Empresa:"),i(),c(6,"input",4),i(),n(7,"div",2)(8,"label",5),a(9,"N\xFAmero:"),i(),c(10,"input",6),i(),n(11,"div",2)(12,"label",7),a(13,"Correo:"),i(),c(14,"input",8),i(),n(15,"div",2)(16,"label",9),a(17,"Direcci\xF3n:"),i(),c(18,"input",10),i(),n(19,"div",11),c(20,"app-image-uploader",12),i(),n(21,"div",13)(22,"button",14),a(23,"Editar informaci\xF3n"),i()()()),t&2&&(l(2),d("formGroup",o.empresaForm),l(18),d("control",o.getFormControl("profileImg"))("imageUrl",o.imgUrl))},dependencies:[T,z,V,pe,O,N,B,j,J],styles:[".title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.empresa-form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:8px;background-color:#f9f9f9}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box;border:1px solid #ccc;border-radius:4px}.button-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:16px;cursor:pointer;text-align:center;text-decoration:none;outline:none;color:#fff;background-color:#f80;border:none;border-radius:4px}.btn[_ngcontent-%COMP%]:hover{background-color:#fc9d0f}.preview[_ngcontent-%COMP%]{margin-top:15px;text-align:center}"]})};var Ri=[{path:"usuarios",component:K,canActivate:[()=>p(q).isTokenExpired()?(p(me).navigate(["/iniciarSesion"]),!1):!0]},{path:"empresa",component:X},{path:"",redirectTo:"usuarios",pathMatch:"full"}];export{Ri as ADMIN_ROUTES};
